{"ast":null,"code":"import _slicedToArray from\"/Users/salihsuliman/Desktop/Portfolio/Messenger clone/facebook-messenger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,FormControl,InputLabel,Input,FormHelperText}from'@material-ui/core';import'./App.css';import Message from'./Message';import db from'./firebase';import firebase from'firebase';import FlipMove from'react-flip-move';import SendIcon from'@material-ui/icons/Send';import{IconButton}from'@material-ui/core';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMesssages=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];useEffect(function(){setUsername(prompt('Please enter you name'));},[]);useEffect(function(){db.collection('messages').orderBy('timestamp','asc').onSnapshot(function(snapshot){setMesssages(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);var sendMessage=function sendMessage(event){event.preventDefault();db.collection('messages').add({message:input,username:username,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Facebook messenger \"),/*#__PURE__*/React.createElement(\"h2\",null,\"Welcome \",username),/*#__PURE__*/React.createElement(\"form\",{className:\"app_form\"},/*#__PURE__*/React.createElement(FormControl,{className:\"app_formControl\"},/*#__PURE__*/React.createElement(Input,{className:\"app_input\",placeholder:\"Enter a message...\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/React.createElement(IconButton,{className:\"app_iconButton\",disabled:!input,color:\"primary\",type:\"submit\",onClick:sendMessage},/*#__PURE__*/React.createElement(SendIcon,null)))),/*#__PURE__*/React.createElement(FlipMove,null,messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/React.createElement(Message,{key:id,username:username,message:message});})));}export default App;","map":{"version":3,"sources":["/Users/salihsuliman/Desktop/Portfolio/Messenger clone/facebook-messenger/src/App.js"],"names":["React","useState","useEffect","Button","FormControl","InputLabel","Input","FormHelperText","Message","db","firebase","FlipMove","SendIcon","IconButton","App","input","setInput","messages","setMesssages","username","setUsername","prompt","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","sendMessage","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","target","value"],"mappings":"+LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,UAA9B,CAA0CC,KAA1C,CAAiDC,cAAjD,KAAuE,mBAAvE,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,OAASC,UAAT,KAA2B,mBAA3B,CAIA,QAASC,CAAAA,GAAT,EAAe,eAEab,QAAQ,CAAC,EAAD,CAFrB,wCAENc,KAFM,eAECC,QAFD,8BAGoBf,QAAQ,CAAC,EAAD,CAH5B,yCAGNgB,QAHM,eAGIC,YAHJ,8BAImBjB,QAAQ,CAAC,EAAD,CAJ3B,yCAINkB,QAJM,eAIIC,WAJJ,eAMblB,SAAS,CAAC,UAAM,CACdkB,WAAW,CAACC,MAAM,CAAC,uBAAD,CAAP,CAAX,CACD,CAFQ,CAEN,EAFM,CAAT,CAIAnB,SAAS,CAAC,UAAM,CAEdO,EAAE,CAACa,UAAH,CAAc,UAAd,EACCC,OADD,CACS,WADT,CACsB,KADtB,EAECC,UAFD,CAEY,SAAAC,QAAQ,CAAI,CACtBP,YAAY,CAACO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QAAK,CAACC,EAAE,CAAED,GAAG,CAACC,EAAT,CAAaC,OAAO,CAAEF,GAAG,CAACG,IAAJ,EAAtB,CAAL,EAArB,CAAD,CAAZ,CACD,CAJD,EAKD,CAPQ,CAON,EAPM,CAAT,CASA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC7BA,KAAK,CAACC,cAAN,GAEAzB,EAAE,CAACa,UAAH,CAAc,UAAd,EAA0Ba,GAA1B,CAA8B,CAC5BL,OAAO,CAAEf,KADmB,CAE5BI,QAAQ,CAAEA,QAFkB,CAG5BiB,SAAS,CAAE1B,QAAQ,CAAC2B,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAHiB,CAA9B,EAMAvB,QAAQ,CAAC,EAAD,CAAR,CACD,CAVD,CAYA,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,GAAG,CAAC,4FAAT,EADF,cAEE,oDAFF,cAGE,yCAAaG,QAAb,CAHF,cAME,4BAAM,SAAS,CAAC,UAAhB,eACI,oBAAC,WAAD,EAAa,SAAS,CAAC,iBAAvB,eACE,oBAAC,KAAD,EAAO,SAAS,CAAC,WAAjB,CAA6B,WAAW,CAAC,oBAAzC,CAA8D,KAAK,CAAEJ,KAArE,CAA4E,QAAQ,CAAE,kBAAAkB,KAAK,QAAIjB,CAAAA,QAAQ,CAACiB,KAAK,CAACO,MAAN,CAAaC,KAAd,CAAZ,EAA3F,EADF,cAGE,oBAAC,UAAD,EAAY,SAAS,CAAC,gBAAtB,CAAuC,QAAQ,CAAE,CAAC1B,KAAlD,CAAyD,KAAK,CAAC,SAA/D,CAAyE,IAAI,CAAC,QAA9E,CAAuF,OAAO,CAAEiB,WAAhG,eAEA,oBAAC,QAAD,MAFA,CAHF,CADJ,CANF,cAsBE,oBAAC,QAAD,MAEAf,QAAQ,CAACU,GAAT,CAAa,kBAAEE,CAAAA,EAAF,MAAEA,EAAF,CAAMC,OAAN,MAAMA,OAAN,oBACX,oBAAC,OAAD,EAAS,GAAG,CAAED,EAAd,CAAkB,QAAQ,CAAEV,QAA5B,CAAsC,OAAO,CAAEW,OAA/C,EADW,EAAb,CAFA,CAtBF,CADF,CAuCD,CAED,cAAehB,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, FormControl, InputLabel, Input, FormHelperText } from '@material-ui/core';\nimport './App.css';\nimport Message from './Message';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport FlipMove from 'react-flip-move';\nimport SendIcon from '@material-ui/icons/Send';\nimport { IconButton } from '@material-ui/core';\n\n\n\nfunction App() {\n\n  const [input, setInput] = useState('');\n  const [messages, setMesssages] = useState([]);\n  const [username, setUsername] = useState('');\n\n  useEffect(() => {\n    setUsername(prompt('Please enter you name'))\n  }, [])\n\n  useEffect(() => {\n\n    db.collection('messages')\n    .orderBy('timestamp', 'asc')\n    .onSnapshot(snapshot => {\n      setMesssages(snapshot.docs.map(doc => ({id: doc.id ,message: doc.data()})))\n    })\n  }, [])\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    db.collection('messages').add({\n      message: input,\n      username: username,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp()\n    })\n\n    setInput('');\n  }\n\n  return (\n    <div className=\"App\">\n      <img src=\"https://facebookbrand.com/wp-content/uploads/2018/09/Header-e1538151782912.png?w=100&h=100\"></img>\n      <h1>Facebook messenger </h1>\n      <h2>Welcome {username}</h2>\n\n\n      <form className=\"app_form\">\n          <FormControl className=\"app_formControl\">\n            <Input className=\"app_input\" placeholder='Enter a message...' value={input} onChange={event => setInput(event.target.value)}/>\n\n            <IconButton className=\"app_iconButton\" disabled={!input} color=\"primary\" type='submit' onClick={sendMessage}>\n\n            <SendIcon />\n            </IconButton>\n\n\n          </FormControl>\n\n   \n      </form>\n\n\n      <FlipMove>\n      {\n      messages.map(({id, message}) => (\n        <Message key={id} username={username} message={message} />\n     \n      ))\n\n    }\n    </FlipMove>\n\n\n    </div>\n\n\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}